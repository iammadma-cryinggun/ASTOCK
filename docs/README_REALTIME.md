# æ²ªé“œç­–ç•¥ - å®žç›˜è·Ÿè¸ªéªŒè¯æŒ‡å—

## ðŸ“‹ ç³»ç»Ÿæ¦‚è¿°

å®žç›˜è·Ÿè¸ªéªŒè¯ç³»ç»Ÿç”¨äºŽï¼š
1. âœ… å®šæœŸè¿è¡Œç­–ç•¥ï¼Œæ£€æŸ¥äº¤æ˜“ä¿¡å·
2. âœ… è®°å½•æ‰€æœ‰ä¹°å–å»ºè®®
3. âœ… è·Ÿè¸ªç­–ç•¥å»ºè®® vs å®žé™…è¡¨çŽ°
4. âœ… éªŒè¯ç­–ç•¥åœ¨å®žç›˜ä¸­çš„æœ‰æ•ˆæ€§

---

## ðŸš€ å¿«é€Ÿå¼€å§‹

### 1. è¿è¡Œç›‘æŽ§è„šæœ¬

```bash
cd D:\daily_stock_analysis
python strategies/realtime_monitor.py
```

**è¾“å‡ºç¤ºä¾‹**:
```
================================================================================
å½“å‰å¸‚åœºçŠ¶æ€
================================================================================
æ—¶é—´: 2026-02-03 15:00:00
ä»·æ ¼: 101470
è¶‹åŠ¿: down (weak)
Ratio: 0.20 (ä¸Šä¸€æ ¹: 0.33)
RSI: 48.1
STC: 22.4 (ä¸Šä¸€æ ¹: 48.4)
æ³¢åŠ¨çŽ‡: 2.83%

================================================================================
äº¤æ˜“ä¿¡å·
================================================================================
å½“å‰æŒä»“: å¦
æ— ä¹°å…¥ä¿¡å·ï¼Œç»§ç»­è§‚æœ›
```

---

## ðŸ“Š è¾“å‡ºæ–‡ä»¶

### 1. ä¿¡å·æ—¥å¿— `logs/signal_log.json`

è®°å½•æ‰€æœ‰äº¤æ˜“ä¿¡å·ï¼š
```json
[
  {
    "timestamp": "2026-02-03T18:46:01",
    "signal_datetime": "2026-02-03 15:00:00",
    "signal": {
      "buy_signal": true,
      "signal_type": "sniper",
      "position_size": 1.5,
      "stop_loss": 99439,
      ...
    },
    "status": "pending",
    "actual_price": null,
    "actual_action": null,
    "notes": ""
  }
]
```

**å­—æ®µè¯´æ˜Ž**:
- `status`: `pending`(å¾…å¤„ç†) / `executed`(å·²æ‰§è¡Œ) / `ignored`(å·²å¿½ç•¥)
- `actual_price`: å®žé™…æˆäº¤ä»·æ ¼
- `actual_action`: å®žé™…æ“ä½œ (buy/sell/hold)
- `notes`: å¤‡æ³¨

### 2. ç›‘æŽ§è®°å½• `logs/performance_tracking.csv`

æ¯æ¬¡è¿è¡Œçš„å®Œæ•´è®°å½•ï¼š
```csv
datetime,price,ratio,rsi,stc,trend,buy_signal,sell_signal,holding,position_size,timestamp
2026-02-03 15:00:00,101470,0.20,48.1,22.4,down,False,False,False,0.0,2026-02-03 18:46:01
```

### 3. æŒä»“çŠ¶æ€ `logs/position_status.json`

å½“å‰æŒä»“çŠ¶æ€ï¼š
```json
{
  "holding": true,
  "entry_price": 82610,
  "entry_datetime": "2025-09-25 01:00:00",
  "position_size": 1.5,
  "stop_loss": 80957,
  "signal_id": "2025-09-25_01:00:00_chase"
}
```

---

## ðŸ”„ å®žç›˜è·Ÿè¸ªæµç¨‹

### æ–¹æ¡ˆ1: æ‰‹åŠ¨æ›´æ–°ï¼ˆæŽ¨èï¼‰

#### æ­¥éª¤1: å®šæœŸè¿è¡Œç›‘æŽ§

**é¢‘çŽ‡**: æ¯4å°æ—¶ï¼ˆæ¯ä¸ªKçº¿æ”¶ç›˜åŽï¼‰

```bash
# Windows ä»»åŠ¡è®¡åˆ’ç¨‹åº
# æˆ–æ‰‹åŠ¨è¿è¡Œ
python strategies/realtime_monitor.py
```

#### æ­¥éª¤2: æŸ¥çœ‹ä¿¡å·

å¦‚æžœå‡ºçŽ°ä¹°å…¥ä¿¡å·ï¼š
```
[ä¹°å…¥ä¿¡å·] ç±»åž‹: sniper
  å»ºè®®ä»“ä½: 1.5x
  æ­¢æŸä»·æ ¼: 99439 (2%)
```

#### æ­¥éª¤3: æ‰‹åŠ¨æ‰§è¡Œäº¤æ˜“

1. æ‰“å¼€äº¤æ˜“è½¯ä»¶
2. æŒ‰ä¿¡å·æ‰§è¡Œäº¤æ˜“
3. è®°å½•å®žé™…æˆäº¤ä»·

#### æ­¥éª¤4: æ›´æ–°æŒä»“çŠ¶æ€

ç¼–è¾‘ `logs/position_status.json`:
```json
{
  "holding": true,
  "entry_price": 82610,  // å®žé™…æˆäº¤ä»·
  "entry_datetime": "2026-02-03 19:00:00",  // å®žé™…æˆäº¤æ—¶é—´
  "position_size": 1.5,
  "stop_loss": 80957,
  "signal_id": "æ‰‹åŠ¨è®°å½•"
}
```

#### æ­¥éª¤5: æ›´æ–°ä¿¡å·æ—¥å¿—

ç¼–è¾‘ `logs/signal_log.json`ï¼Œæ‰¾åˆ°å¯¹åº”ä¿¡å·ï¼š
```json
{
  "status": "executed",  // ä»Ž pending æ”¹ä¸º executed
  "actual_price": 82500,  // å®žé™…æˆäº¤ä»·
  "actual_action": "buy",
  "notes": "å®žé™…æˆäº¤ä»·ä¸Žå»ºè®®ä»·ç•¥æœ‰å·®å¼‚"
}
```

---

### æ–¹æ¡ˆ2: å®šæ—¶ä»»åŠ¡ï¼ˆè‡ªåŠ¨åŒ–ï¼‰

#### Windows ä»»åŠ¡è®¡åˆ’ç¨‹åº

**åˆ›å»ºä»»åŠ¡**:
1. æ‰“å¼€"ä»»åŠ¡è®¡åˆ’ç¨‹åº"
2. åˆ›å»ºåŸºæœ¬ä»»åŠ¡
3. è§¦å‘å™¨: æ¯4å°æ—¶è¿è¡Œä¸€æ¬¡
   - 09:00, 13:00, 17:00, 21:00
4. æ“ä½œ: è¿è¡Œè„šæœ¬
   ```
   python D:\daily_stock_analysis\strategies\realtime_monitor.py
   ```

#### Linux Cron

```bash
# ç¼–è¾‘ crontab
crontab -e

# æ¯4å°æ—¶è¿è¡Œä¸€æ¬¡
0 */4 * * * cd /path/to/daily_stock_analysis && python strategies/realtime_monitor.py >> logs/cron.log 2>&1
```

---

## ðŸ“ˆ è·Ÿè¸ªåˆ†æž

### æ¯å‘¨å›žé¡¾

è¿è¡Œåˆ†æžè„šæœ¬æŸ¥çœ‹ç­–ç•¥è¡¨çŽ°ï¼š

```python
# TODO: åˆ›å»ºåˆ†æžè„šæœ¬
import pandas as pd
import json

# åŠ è½½ä¿¡å·æ—¥å¿—
with open('logs/signal_log.json', 'r', encoding='utf-8') as f:
    signals = json.load(f)

# ç»Ÿè®¡æ‰§è¡ŒçŽ‡
executed = len([s for s in signals if s['status'] == 'executed'])
pending = len([s for s in signals if s['status'] == 'pending'])
ignored = len([s for s in signals if s['status'] == 'ignored'])

print(f"æ‰§è¡ŒçŽ‡: {executed}/{len(signals)} ({executed/len(signals)*100:.1f}%)")
print(f"å¾…å¤„ç†: {pending}")
print(f"å·²å¿½ç•¥: {ignored}")
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ•°æ®æ›´æ–°

å½“å‰è„šæœ¬ä½¿ç”¨æœ¬åœ°CSVæ•°æ®ï¼Œ**éœ€è¦å®šæœŸæ›´æ–°**ï¼š

**æ–¹æ³•**: ä»ŽæœŸè´§å…¬å¸ä¸‹è½½æœ€æ–°æ•°æ®ï¼Œæ›¿æ¢ `D:\æœŸè´§æ•°æ®\æ²ªé“œ4å°æ—¶Kçº¿_xxx.csv`

### 2. æ—¶é—´å»¶è¿Ÿ

4å°æ—¶Kçº¿æ”¶ç›˜æ—¶é—´ï¼š
- 09:00, 13:00, 17:00, 21:00

**å»ºè®®**: åœ¨ 09:05, 13:05, 17:05, 21:05 è¿è¡Œç›‘æŽ§è„šæœ¬

### 3. æ»‘ç‚¹æˆæœ¬

å®žç›˜äº¤æ˜“æœ‰æ»‘ç‚¹ï¼š
- å»ºè®®ä½¿ç”¨é™ä»·å•ï¼Œé¿å…å¸‚ä»·å•æ»‘ç‚¹
- å¦‚æžœæ»‘ç‚¹ > 0.2%ï¼Œè€ƒè™‘ä¸æ‰§è¡Œ

### 4. èµ„é‡‘ç®¡ç†

å³ä½¿ç­–ç•¥ç»™å‡º 2.0x ä»“ä½å»ºè®®ï¼š
- æ–°æ‰‹å»ºè®®æœ€å¤š 1.0x
- æœ‰ç»éªŒåŽå¯é€æ­¥æé«˜åˆ° 1.5x
- 2.0x ä»…ç”¨äºŽè¶…å¼ºè¶‹åŠ¿ä¸”é£Žé™©å¯æŽ§æ—¶

---

## ðŸ“ æ–‡ä»¶ç»“æž„

```
D:\daily_stock_analysis\
â”œâ”€â”€ strategies/
â”‚   â”œâ”€â”€ realtime_monitor.py      # ç›‘æŽ§è„šæœ¬ â­
â”‚   â”œâ”€â”€ copper_strategy_a.py      # ç­–ç•¥A
â”‚   â””â”€â”€ copper_strategy_b_improved.py  # ç­–ç•¥B
â”œâ”€â”€ logs/
â”‚   â”œâ”€â”€ signal_log.json           # ä¿¡å·æ—¥å¿—
â”‚   â”œâ”€â”€ position_status.json      # æŒä»“çŠ¶æ€
â”‚   â”œâ”€â”€ performance_tracking.csv  # ç›‘æŽ§è®°å½•
â”‚   â””â”€â”€ strategy_monitor.log      # è¿è¡Œæ—¥å¿—
â””â”€â”€ README_REALTIME.md            # æœ¬æ–‡æ¡£
```

---

## ðŸŽ¯ è·Ÿè¸ªç›®æ ‡

### çŸ­æœŸç›®æ ‡ï¼ˆ1ä¸ªæœˆï¼‰

- [ ] æ”¶é›†è‡³å°‘ 10 ä¸ªä¿¡å·
- [ ] æ‰§è¡ŒçŽ‡ > 80%
- [ ] è®°å½•æ¯ç¬”å®žé™…ç›ˆäº

### ä¸­æœŸç›®æ ‡ï¼ˆ3ä¸ªæœˆï¼‰

- [ ] éªŒè¯ç­–ç•¥èƒœçŽ‡ > 55%
- [ ] éªŒè¯ç­–ç•¥ç›ˆäºæ¯” > 2.0
- [ ] å¯¹æ¯”å›žæµ‹ vs å®žç›˜å·®å¼‚ < 20%

### é•¿æœŸç›®æ ‡ï¼ˆ6ä¸ªæœˆï¼‰

- [ ] å®žç›˜æ€»ç›ˆåˆ© > 10,000 ç‚¹
- [ ] æœ€å¤§å›žæ’¤ < 5,000 ç‚¹
- [ ] ç­–ç•¥ç¨³å®šæ€§ç¡®è®¤

---

## ðŸ“ž é—®é¢˜åé¦ˆ

é‡åˆ°é—®é¢˜ï¼Ÿ
1. æŸ¥çœ‹æ—¥å¿—: `logs/strategy_monitor.log`
2. æ£€æŸ¥æ•°æ®æ ¼å¼: ç¡®ä¿CSVåŒ…å«æ‰€æœ‰å¿…éœ€åˆ—
3. æ£€æŸ¥æŒä»“çŠ¶æ€: `logs/position_status.json`

---

*æ–‡æ¡£æ›´æ–°: 2026-02-03*
*æ•°æ®æ¥æº: æ²ªé“œ4å°æ—¶Kçº¿*
